<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dependency Tree Diff</title>

  <!-- Prism -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

  <!-- App CSS -->
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <main class="container">
    <header class="header">
      <h1>Dependency Tree Diff</h1>
      <p>Android 의존성 그래프 변경사항을 쉽게 비교해보세요</p>
    </header>

    <section class="card upload">
      <div class="grid">
        <div class="field">
          <label for="file-old">기존 의존성 파일 (.txt)</label>
          <div class="drop" id="drop-old" role="button" aria-label="기존 파일 선택">
            <input class="file-input" id="file-old" type="file" accept=".txt"/>
            <div class="hint">클릭 또는 드래그하여 업로드</div>
            <div class="name" id="name-old" aria-live="polite"></div>
          </div>
        </div>
        <div class="field">
          <label for="file-new">변경된 의존성 파일 (.txt)</label>
          <div class="drop" id="drop-new" role="button" aria-label="변경된 파일 선택">
            <input class="file-input" id="file-new" type="file" accept=".txt"/>
            <div class="hint">클릭 또는 드래그하여 업로드</div>
            <div class="name" id="name-new" aria-live="polite"></div>
          </div>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="btn-compare" disabled>
          <span id="btn-label">비교하기</span>
          <span id="spinner" class="spinner" style="display:none"></span>
        </button>
        <button class="btn btn-secondary" id="btn-reset" type="button">초기화</button>
      </div>
      <div id="error" class="error"></div>
    </section>

    <section class="card result" id="result-card" style="display:none">
      <div class="result-header">
        <h2 class="result-title">비교 결과</h2>
        <button class="btn btn-secondary" id="btn-copy" type="button">결과 복사</button>
      </div>
      <div class="code-wrap">
        <pre><code class="language-diff" id="code-diff"></code></pre>
      </div>
    </section>
  </main>

  <!-- Core (diff 로직) 먼저 로드 -->
  <script defer src="./dependency-diff.js"></script>
  <!-- UI -->
  <script defer src="./app.js"></script>
</body>
</html>